@implements IDisposable
<link href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" rel="stylesheet">

@inject NavigationManager NavigationManager

<MudNavMenu Color="Color.Info" Class="mud-width-full">
    <AuthorizeView Roles="admin">
        <Authorized>
            <MudNavLink Href="/" Match="NavLinkMatch.Prefix" Icon="fa-solid fa-house fa-lg"> Inicio</MudNavLink>
            <MudNavLink Href="fnrh" Match="NavLinkMatch.Prefix"   Icon="fa-regular fa-file-code" > FNRH</MudNavLink>
            <MudNavLink Href="pagamentoairbnb" Match="NavLinkMatch.Prefix" Icon="fa-brands fa-airbnb fa-lg"> Pagamento Airbnb</MudNavLink>
            <MudNavLink Href="logwhatsapp" Match="NavLinkMatch.Prefix" Icon="fa-brands fa-whatsapp fa-lg">Log Whatsapp</MudNavLink>
            <MudNavLink Href="addreservat" Match="NavLinkMatch.Prefix" Icon="fa-solid fa-folder-plus fa-lg">Adiciona Reserva</MudNavLink>
            <MudNavLink Href="reservas" Match="NavLinkMatch.Prefix" Icon="fa-solid fa-list fa-lg">Reservas</MudNavLink> 
        </Authorized>
    </AuthorizeView> 
    <AuthorizeView Roles="client">
        <Authorized>
            <MudNavLink Href="minhareserva" Match="NavLinkMatch.Prefix" Icon="fa-solid fa-bed">Minha Reserva</MudNavLink>
        </Authorized>
    </AuthorizeView>

</MudNavMenu> 

@* https://demos.blazorbootstrap.com/icons#bootstrap-icons   *@

@code {
    private string? currentUrl;

    protected override void OnInitialized()
    {
        currentUrl = NavigationManager.ToBaseRelativePath(NavigationManager.Uri);
        NavigationManager.LocationChanged += OnLocationChanged;
    }

    private void OnLocationChanged(object? sender, LocationChangedEventArgs e)
    {
        currentUrl = NavigationManager.ToBaseRelativePath(e.Location);
        StateHasChanged();
    }

    public void Dispose()
    {
        NavigationManager.LocationChanged -= OnLocationChanged;
    }
}